VIDEO_SYSTEM
COMPS:VideoPlayer(HTML5+auto-hide-controls+dynamic-aspect-from-meta+max-w-md[vert]|max-w-2xl[land]+NO-object-fit[critical:bars/crop])|YouTubeEmbed(iframe+parse-all-YT-URL+def:16:9)|YouTubeChannel(promo-section+custom-YT-logo+config[badge+heading+desc+URL]+card-gradient-bg)|VideoSection(reusable-component+used-on-multiple-pages+title+desc+video-selector)|VideoScreenshotCapture(capture-frames-25-50-75%+manual-capture+crop-selection+aspect-detection)
DB:videos(id|title|video_url[uploads]|youtube_url[embeds]|video_type|thumbnail_url[legacy]|cover_url[screenshot-capture]|cover_timestamp|description|category|is_active|display_order)|about_sections.youtube_channel(content.badge_text|heading|description|channel_url|button_text)|homepage_sections.homepage_video(content.title|description|video_type|video_id|video_url|youtube_url)|support_page_sections.support_video(content.title|description|video_type|video_id|video_url|youtube_url)|storage:videos-bucket[100MB]+covers-folder+RLS[public-SELECT-active+admins-ALL]
ADMIN:VideoManager→Admin-Media-Videos→upload/embed+screenshot-capture[auto-25-50-75%+manual-frame]+crop-cover+toggle-vis+reorder[drag-drop]+del|AudioClipsManager→Admin-Media-Audio-Clips→upload+meta+categories+vis+search|YouTube-Channel→Admin-About→Edit-youtube_channel-section→config[URL+button-text+desc]|Homepage-Video→Admin-Format-Homepage→SectionContentDialog→video-type-selector[uploaded|youtube]→conditional-inputs|Support-Video→Admin-Support-Page→SupportPageManager→video-type-selector[uploaded|youtube]→conditional-inputs
SCREENSHOT-WORKFLOW:upload-video→click-capture-btn→auto-generate-3-screenshots→manual-capture-optional→select-screenshot→ImageCropDialog→save-cover+timestamp
INTEGRATIONS:discussion_posts(video_id[link-table]|youtube_url[direct])|app_settings.sponsor_page_content.featured_video_id|videos-page[gallery+fullscreen-dialog]|about-page(youtube-channel-section[about_sections]+doc-watch-btns[YT/Vimeo/Dailymotion→about_sections.content.doc_*_url])|homepage(homepage_video-section[conditional-render])|support-page(support_video-section[conditional-render])
RULES:VideoPlayer:YES[dynamic-aspectRatio-inline+w-full-h-full+grad-overlays]NO[object-fit+fixed-aspect]|YouTubeEmbed:YES[flex-URL-parse+AspectRatio-wrap+iframe-security]|YouTubeChannel:YES[red-YT-logo-SVG[rounded-rect+white-triangle]+btn-new-tab]NO[Lucide-YouTube-icon]|VideoSection:YES[null-check-no-video→no-render+reusable-across-pages]|ADMIN-VIDEO-SELECTION:choose-type[uploaded|youtube]→conditional-inputs[uploaded:dropdown|youtube:URL-input]|SCREENSHOT-CAPTURE:uploaded-videos-only→auto-generate-3-frames→manual-capture-available→crop-before-save|VIDEO-ASPECT-DETECTION:auto-detect-video-dimensions→map-to-closest-standard-ratio[1:1|16:9|9:16|4:3|3:4|3:2|2:3]→set-as-default-crop
ISSUES:black-bars/crop→rm-object-fit|wrong-size→dynamic-style|YT-logo-wrong→custom-SVG-red-bg-white-tri
ADMIN-PATTERN:VideoManager→upload-file→capture-screenshots-btn→VideoScreenshotCapture[auto-3-frames+manual]→select→ImageCropDialog→save-cover_url+cover_timestamp|SectionContentDialog→homepage_video[video_type-selector→uploaded:video-dropdown|youtube:URL-input]|SupportPageManager→support_video[video_type-selector→uploaded:video-dropdown|youtube:URL-input]
FILES:VideoPlayer.tsx|YouTubeEmbed.tsx|VideoManager.tsx[screenshot-capture]|YouTubeChannel.tsx|About.tsx[doc-section]|VideoSection.tsx[reusable-component]|SectionContentDialog.tsx[video-type-selection]|SupportPageManager.tsx[video-type-selection]|VideoScreenshotCapture.tsx[aspect-detection]|SupportUs.tsx[video-section-render]|Index.tsx[homepage-video-section]
TESTING:tests/unit/VideoSection.test.tsx[unit-tests]|tests/e2e/support-page.spec.ts[E2E-tests]|tests/utils/supabase-mocks.ts[mock-support_video-section]
